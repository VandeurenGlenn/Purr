<!DOCTYPE html>
<html lang="en">
<head>
<title>Purr - the web engine</title>
<style>
#inside {
  display: flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
#editor1 {
    display:flex;
    width: 300px;
    height: 200px;
}
#editor2 {
    display: flex;
    width: 300px;
    height: 200px;
}
</style>
</head>
<body>
  <div id="inside">
    <button onclick="newAce()">New File</button>
  </div>

<script src="./src/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    let newAce = () => {
      let aceTag = document.createElement('ace-element');
      let rndName = 'editor' + Math.floor((Math.random() * 100) + 1);
      aceTag.id = rndName;
      aceTag.style.display = 'flex';
      aceTag.style.width = '640px';
      aceTag.style.height = '480px';
      let node = document.createTextNode(`
        function helloWorld() {
          let h = 'hello world';
          return h;
        }
        `);
      aceTag.appendChild(node);
      let element = document.getElementById('inside')
      console.log(element);
      element.appendChild(aceTag);

      let a = ace.edit(rndName);
      a.setTheme("ace/theme/monokai");
      a.getSession().setMode("ace/mode/javascript");

    }
</script>
</body>
</html>
